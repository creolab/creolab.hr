<!DOCTYPE html>
<html lang="{{ site:short_locale }}">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        {{ alt_seo:meta }}

        <meta name="description" content="{{ excerpt ?? title }}" />
        <meta name="theme-color" content="00908F" />
        {{ vite src="resources/js/site.js|resources/css/site.css" }}

        <link rel="icon" type="image/png" href="/build/icons/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/svg+xml" href="/build/icons/favicon.svg" />
        <link rel="shortcut icon" href="/build/icons/favicon.ico" />
        <link rel="apple-touch-icon" sizes="180x180" href="/build/icons/apple-touch-icon.png" />
        <meta name="apple-mobile-web-app-title" content="Creo" />
        <link rel="manifest" href="/build/icons/site.webmanifest" />

        <!-- Prevent dark mode flash -->
        <script>
            (function() {
                const darkMode = localStorage.getItem('theme') === 'dark' ||
                    (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches);

                if (darkMode) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            })();
        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.28.0/feather.min.js" integrity="sha512-7x3zila4t2qNycrtZ31HO0NnJr8kg2VI67YLoRSyi9hGhRN66FHYWr7Axa9Y1J9tGYHVBPqIjSE1ogHrJTz51g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <script defer src="https://cloud.umami.is/script.js" data-website-id="b6aba8c7-ed82-4e86-a943-c0d857abec7d"></script>
    </head>
    <body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans leading-relaxed transition-colors duration-300">
        {{ partial:partials.nav }}

        <main class="min-h-screen">
            {{ template_content }}
        </main>

        {{ partial:partials.footer }}

        <style>
            /* Smooth scrolling */
            html {
                scroll-behavior: smooth;
            }

            /* Custom scrollbar */
            ::-webkit-scrollbar {
                width: 8px;
            }

            ::-webkit-scrollbar-track {
                background: rgb(243 244 246);
            }

            .dark ::-webkit-scrollbar-track {
                background: rgb(31 41 55);
            }

            ::-webkit-scrollbar-thumb {
                background: rgb(156 163 175);
                border-radius: 4px;
            }

            ::-webkit-scrollbar-thumb:hover {
                background: rgb(107 114 128);
            }

            .dark ::-webkit-scrollbar-thumb {
                background: rgb(75 85 99);
            }

            .dark ::-webkit-scrollbar-thumb:hover {
                background: rgb(107 114 128);
            }
        </style>

        <script>
            feather.replace()
        </script>
    </body>
</html>
